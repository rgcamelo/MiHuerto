<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="tabs/tab2"></ion-back-button>
        </ion-buttons>
        <ion-title>{{nameHuerto}}</ion-title>
    </ion-toolbar>
</ion-header>


<ion-content>

    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" pullFactor="0.8" pullMin="60" pullMax="120">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <ion-segment value="" (ionChange)="segmentChanged($event)">
        <ion-segment-button value="">
            <ion-icon name="grid-outline"></ion-icon>
        </ion-segment-button>
        <ion-segment-button value="seedbed">
            <ion-label>Semilleros</ion-label>
        </ion-segment-button>
        <ion-segment-button value="module">
            <ion-label>Modulos</ion-label>
        </ion-segment-button>
    </ion-segment>

    <ion-list>
        <!-- <ion-item ">
            <ion-label></ion-label>
        </ion-item>  -->

        <!-- 
           
       -->

        <ion-item class="animate__animated animate__fadeIn animate__faster" *ngFor="let ground of grounds  | filtro:type:'type'">
            <ion-card class="ioncardground">

                <ion-item>
                    <div routerLink="./beds/{{ground.id}}" *ngIf="ground.type == 'module'">
                        <ion-avatar slot="start">
                            <ion-img src="/assets/img/modulo.jpg"></ion-img>
                        </ion-avatar>
                    </div>
                    <div routerLink="./beds/{{ground.id}}" *ngIf="ground.type == 'seedbed'">
                        <ion-avatar slot="start">
                            <ion-img src="/assets/img/semillero.jpg"></ion-img>
                        </ion-avatar>
                    </div>
                    <ion-label routerLink="./beds/{{ground.id}}"> {{ground.name}}</ion-label>
                    <ion-button (click)="presentActionSheet(ground.id)" slot="end" fill="clear">
                        <ion-icon name="ellipsis-vertical-outline" slot="icon-only"></ion-icon>
                    </ion-button>
                </ion-item>

                <ion-card-content class="ioncardcontent">
                    <ion-item>
                        <ion-card *ngIf="ground.number_bed != 0">
                            <ion-item>
                                <ion-avatar slot="start">
                                    <ion-img src="/assets/img/bandeja.jpg"></ion-img>
                                </ion-avatar>
                                <ion-label>{{ground.number_bed}}</ion-label>
                            </ion-item>
                        </ion-card>
                        <ion-card *ngIf="ground.number_furrow != 0">
                            <ion-item>
                                <ion-avatar slot="start">
                                    <ion-img src="/assets/img/surco.jpg"></ion-img>
                                </ion-avatar>
                                <ion-label>{{ground.number_furrow}}</ion-label>
                            </ion-item>
                        </ion-card>
                        <ion-card *ngIf="ground.number_terrace != 0">
                            <ion-item>
                                <ion-avatar slot="start">
                                    <ion-img src="/assets/img/bancal.jpg"></ion-img>
                                </ion-avatar>
                                <ion-label>{{ground.number_terrace}}</ion-label>
                            </ion-item>
                        </ion-card>
                    </ion-item>
                </ion-card-content>
            </ion-card>
        </ion-item>
    </ion-list>


    <ion-fab (click)="registrarGround()" vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button>
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>

    <ion-infinite-scroll threshold="150px" (ionInfinite)="loadData($event)">
        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Cargando data...">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>



</ion-content>